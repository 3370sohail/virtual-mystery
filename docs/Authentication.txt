This document is an overview of virtual mystery's authentication features. It is split up between django and angular.

DJANGO:

 NOTE: Ensure that the API is used only over HTTPS during production.

 * Overview *
 Django uses the django-rest-framework's token authentication through api endpoints (see authentication app README.txt for more info).

 * Tokens *
 64 hex-character tokens which do not expire in a given time interval and must be manually reset.

 * Authentication *
 For users to authenticate when making a request, the token key should be included in the HTTP request header as follows: "Authorization: Token 9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b". Note that the word "Token" must preceed the token key followed by a space.

 * Login *
 A login is executed by verifying the user credentials (username and password) and returning a token, if the verification is successful. Note that a token is created if no token exists.

 * Logout *
 A logout is executed by deleting the users' token thereby forcing the user to login for any further requests. This requires the user making the request to be authenticated. 

ANGULAR:

 NOTE: For endpoint info see django authentication app README.txt.

 * Login *
 Sends an HTTP request with the user credentials (username and password) to the django login endpoint and on a successful response, creates a currentUser object which stores the token key.

 * Logout *
 Sends an HTTP request to the django logout endpoint and on a successful response, deletes the currentUser object and the user is redirected back to the login page. 

 * Storage *
 The authentication token is stored in sessionStorage in the currentUser object under the "token" attribute.

 * Requests *
 Any requests sent to django endpoints from an authenticated user automatically have the users' authentication token key appended in the request header, using an http service.

 * Responses *
 If any request returns an HTTP 401 UNAUTHORIZED response, the currentUser object is deleted if exists and the user is redirected back to the login page.