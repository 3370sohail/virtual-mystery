<!-- Comment List Error Message -->
<p class="alert alert-warning text-center" *ngIf="error"> <strong>An error occurred, please try again.</strong> </p>

<!-- No Comments Message -->
<div *ngIf="getComments().length == 0"> 
	<p class="alert alert-warning font-weight-bold text-center">No comments to display.</p> 
</div>

<!-- Comments -->
<div *ngIf="getComments().length > 0" >
	<div class="container" *ngFor="let comment of comments; let i = index">
		<!-- Top Level Comments -->
		<div class="media">

			<div class="media-left mr-2">
				<img src="assets/misc/profile.png" class="media-object" style="width:50px">
			</div>
			<div class="media-body">



					<h6 class="text-uppercase font-weight-bold media-heading rounded">{{ comment.username }} </h6>
			
					<div class="row">
						<p class= "col-12 lead rounded text-light p-2" [ngClass]="{'bg-dark': comment.is_ta===true , 'bg-info': comment.is_ta===false}">{{ comment.text }}</p>
					
				<!-- Replies -->
				

						<button class="col btn btn-light btn-sm" data-toggle="collapse" [attr.data-target]="'#comment' + i">Replies</button>
					</div>
				
				<div class="collapse mb-5" id="{{ 'comment' + i }}">
					
						<div class="container" *ngFor="let reply of comment.reply" >
								<div class="media">
										
										<div class="media-left">
											<img src="assets/misc/profile.png" class="media-object" style="width:50px">
										</div>
										<div class="media-body rounded">
											<h6 class=" text-uppercase font-weight-bold media-heading rounded ">{{ reply.username }}</h6>
											<p class="lead rounded bg-info text-light p-2">{{ reply.text }}
											</p>
	
										</div>
									</div>
						</div>
						<!-- ReplyCreate Component -->
						<app-replycreate [parentId]="comment.id"  (replyEvent)="recieveReply($event)" ></app-replycreate>
						
				</div>


					
			</div>
		</div>
	</div>
</div>

