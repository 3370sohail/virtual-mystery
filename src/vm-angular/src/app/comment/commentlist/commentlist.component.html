<!-- Comment List Error Message -->
<p class="alert alert-warning text-center" *ngIf="error"> <strong>An error occurred, please try again.</strong> </p>

<!-- No Comments Message -->
<div *ngIf="getComments().length == 0"> 
	<p class="alert alert-warning font-weight-bold text-center">No comments to display.</p> 
</div>

<!-- Comments -->
<div *ngIf="getComments().length > 0" >
	<div class="container" *ngFor="let comment of comments; let i = index">
		<!-- Top Level Comments -->
		<div class="media">
			<!-- ADD back in when you find a better icon for people
			<div class="media-left mr-2">
				<img src="assets/misc/profile.png" class="media-object" style="width:50px">
			</div>-->
			<div class="media-body">

				<h6 class="text-uppercase font-weight-bold media-heading rounded">{{ comment.username }} </h6>
				<p class= "lead rounded text-light p-2 pb-3" [ngClass]="{'bg-dark': comment.is_ta===true , 'bg-info': comment.is_ta===false}">{{ comment.text }}</p>


				<button type="button" class="p-2 btn btn-outline-dark btn-sm btn-block" (click)="toggleReply(comment.id)" > replies </button>

				<!-- Replies -->
				<button class="btn btn-primary d-block mb-4" data-toggle="collapse" data-target="#{{ 'wave' + i }}">Read More</button>

				<div class="collapse mb-5" id="{{ 'wave' + i }}">
					<div class="card">
						<div class="card-body">
								<div class="container" *ngFor="let reply of comment.reply" >
										<div class="media">
												<!-- ADD back in when you get a better icon for ppl
												<div class="media-left">
													<img src="assets/misc/profile.png" class="media-object" style="width:50px">
												</div>-->
												<div class="media-body rounded">
													<h6 class=" text-uppercase font-weight-bold media-heading rounded ">{{ reply.username }}</h6>
													<p class="lead rounded bg-info text-light p-2">{{ reply.text }}
													</p>
			
												</div>
											</div>
								</div>
								<!-- ReplyCreate Component -->
								<app-replycreate [parentId]="comment.id"  (replyEvent)="recieveReply($event)" ></app-replycreate>
						</div>
					</div>
				</div>


					
			</div>
		</div>
	</div>
</div>

